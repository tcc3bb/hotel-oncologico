<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Instituto Vita</title>
    <link rel="icon" href="/image/logo.png">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Cinzel+Decorative:wght@700&family=EB+Garamond&family=Uncial+Antiqua&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="/css/usuarios/style_cadastro.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>

<body>
    <nav>
        <div class="nav-links">
            <a href="/" class="img">
                <img src="/image/logo.png" alt="Logo da Empresa" class="img-logo">
            </a>
            <a href="/nav/sobre-nos">Sobre nós</a>
            <a href="/nav/sobre-cancer">Sobre o câncer</a>
            <a href="/nav/acomodacoes">Acomodações</a>
            <a href="/nav/apoio-paciente">Apoio ao paciente</a>
            <a href="/nav/localizacao">Localizações</a>
            <a href="/perguntas/perguntas-frequentes">Perguntas frequentes</a>
            <% if (!user) { %>
                <!-- Usuário não logado -->
                <a href="/usuarios/login" class="btn-entrar">Entrar</a>
                <a href="/usuarios/cadastro" class="btn-cadastrar">Cadastrar</a>
                <% } else { %>
                    <!-- Usuário logado -->
                    <% if (user.tipo==='paciente' ) { %>
                        <a href="/paciente/minhas-reservas" class="btn-nav">Minhas Reservas</a>
                        <% } else if (user.tipo==='acompanhante' ) { %>
                            <a href="/acompanhante/apoio-ao-paciente" class="btn-nav">Apoio ao Paciente</a>
                            <% } else if (user.tipo==='doador' ) { %>
                                <a href="/doador/minhas-doacoes" class="btn-nav">Minhas Doações</a>
                                <% } else if (user.tipo==='admin' ) { %>
                                    <a href="/admin/painel" class="btn-nav">Configurações</a>
                                    <% } else { %>
                                        <!-- Caso algum outro tipo apareça -->
                                        <a href="/usuarios/login" class="btn-entrar">Entrar</a>
                                        <a href="/usuarios/cadastro" class="btn-cadastrar">Cadastrar</a>
                                        <% } %>
                                            <!-- Botão de logout -->
                                            <a href="/usuarios/logout" class="btn-logout">Sair</a>
                                            <% } %>
        </div>
    </nav>

    <main>

        <div class="container">
            <div class="left">
                <h1>Já tem uma<br> conta?</h1>
                <p>Bem vindo novamente, entre com seu e-mail e senha e tenha acesso aos nossos serviços</p>
                <button onclick="window.location.href='/usuarios/login'">Entrar</button>
            </div>
            <div class="right">
                <h1>Criar Conta</h1>
                <small>Faça seu cadastro</small>

                <% if (erro && erro.includes('E-mail')) { %>
                    <div class="erro-aviso" style="
        background-color: #ffe6e6;
        border: 1px solid #ff9999;
        border-radius: 5px;
        padding: 12px 15px;
        margin: 15px 0;
        color: #cc0000;
        font-size: 14px;
        display: flex;
        align-items: center;
        justify-content: space-between;
    ">
                        <span style="display: flex; align-items: center; gap: 8px;">
                            <i class="fa-solid fa-exclamation-circle"></i>
                            <%= erro %>
                        </span>
                        <button onclick="this.parentElement.style.display='none'" style="
            background: none;
            border: none;
            color: #cc0000;
            cursor: pointer;
            font-size: 16px;
            padding: 0;
        ">
                            <i class="fa-solid fa-times"></i>
                        </button>
                    </div>
                    <% } %>

                        <form method="POST" action="/usuarios/cadastro">
                            <div class="input-group">
                                <input type="email" name="email" placeholder="E-mail" required>
                            </div>
                            <div class="input-group">
                                <input type="password" name="senha" placeholder="Senha" required>
                            </div>
                            <div class="input-group">
                                <input type="password" name="confirma_senha" placeholder="Confirme sua Senha" required>
                            </div>
                            <div class="input-group">
                                <select name="tipo" id="tipo" required>
                                    <option value="" disabled selected>Selecione o tipo de usuário</option>
                                    <option value="paciente">Paciente</option>
                                    <option value="acompanhante">Acompanhante</option>
                                    <option value="doador">Doador</option>
                                    <% if (user && user.tipo==='admin' ) { %>
                                        <option value="admin">Admin</option>
                                        <%}%>
                                </select>
                            </div>
                            <button type="submit">Cadastrar</button>
                            <button onclick="window.location.href='/'">Voltar</button>
                        </form>
            </div>
        </div>
    </main>

    <footer>
        <div class="footer-container">
            <div class="footer-about">
                <h3>Sobre a Empresa</h3>
                <p>Somos uma organização dedicada a oferecer hospedagem com amor, cuidado e dignidade para pacientes e
                    familiares.</p>
            </div>
            <div class="footer-contact">
                <h3>Contato</h3>
                <p>Email: contato@empresa.com.br</p>
                <p>Telefone: (11) 1234-5678</p>
                <p>Endereço: Rua Exemplo, 123 - São Paulo, SP</p>
            </div>
            <div class="footer-links">
                <h3>Links Úteis</h3>
                <a href="#">Política de Privacidade</a><br>
                <a href="#">Termos de Uso</a><br>
                <a href="#">Ajuda</a>
            </div>
        </div>
        <div class="footer-bottom">
            <p>© 2024 Empresa. Todos os direitos reservados.</p>
        </div>
    </footer>

    <script>
        /*====== MENU MOBILE ======*/
        const hamburger = document.createElement("div");
        hamburger.classList.add("hamburger");
        hamburger.innerHTML = "<span></span><span></span><span></span>";

        document.querySelector("nav").prepend(hamburger);

        hamburger.addEventListener("click", () => {
            document.querySelector(".nav-links").classList.toggle("active");
        });
    </script>
</body>

</html>